<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>How to Write Haskell in 2025</title>
    <meta name=viewport content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="How to Write Haskell in 2025">
    <meta property="og:site_name" content="welltypedwit.ch">
    <meta property="og:description" content="How to Write Haskell in 2025">
    <meta property="twitter:title" content="How to Write Haskell in 2025">
    <meta property="twitter:description" content="How to Write Haskell in 2025">
    <meta property="twitter:url" content="https://welltypedwit.ch/posts/haskell2024.html">
    <meta property="twitter:type" content="summary">
    <meta property="twitter:domain" content="welltypedwit.ch">
    <meta name="twitter:card" content="summary_large_image">
    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600;700&family=Inria+Sans:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/main.css">

    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml">

    <!--Icons-->
    <script src="https://kit.fontawesome.com/e4faccddf2.js" crossorigin="anonymous"></script>



    <!--KaTeX-->
    <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"
        integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"
        integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja"
        crossorigin="anonymous"></script>
    <!-- Mostly Generated by pandoc -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var mathElements = document.getElementsByClassName("math");
            var macros = [];
            for (var i = 0; i < mathElements.length; i++) {
                var texText = mathElements[i].firstChild;
                if (mathElements[i].tagName == "SPAN") {
                    katex.render(texText.data, mathElements[i], {
                        displayMode: mathElements[i].classList.contains('display'),
                        throwOnError: false,
                        macros: macros,
                        fleqn: false
                    });
                }
            }

            // replace KaTeX colors with CSS variables so that we can control them in light/dark mode
            document.querySelectorAll(".mrel").forEach(element => {
                if (element.style.color == "blue") {
                    element.style.color = "var(--katex-blue)"
                } else if (element.style.color == "red") {
                    element.style.color = "var(--katex-red)"
                } else if (element.style.color == "purple") {
                    element.style.color = "var(--katex-purple)"
                }
            })

            // replace ¤ characters in source code with '.diff-area' spans and add a '.diff' class to the 
            // corresponding pre element to adjust the style correctly.
            // Ideally this would be done at compile time, but that's more difficult and will not work for katex segments.
            document.querySelectorAll("pre.sourceCode").forEach(pre => {
                let html = pre.innerHTML

                if (!/¤/.test(html)) {
                    // This code block is not a diff block
                    return
                }

                let matchingClosing = false
                while (/¤/.test(html)) {
                    if (!matchingClosing) {
                        html = html.replace(/¤/, "<span class='diff-area'>")
                    } else {
                        html = html.replace(/¤/, "</span>")
                    }

                    matchingClosing = !matchingClosing
                }
                if (matchingClosing) {
                    console.error("unmatched diff block in source code", pre)
                    return
                }

                pre.innerHTML = html
                pre.classList.add("diff")
            })
        })
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            function reflowGrids() {
                document.querySelectorAll(".grid.parent").forEach(parent => {
                    parent.classList.remove("column1")
                    let hasOverflow = false
                    for (child of parent.children) {
                        // We need to check grandchildren because of how overflow is set up for
                        // code elements
                        for (grandchild of child.children) {
                            // check for horizontal overflow
                            if (grandchild.scrollWidth > grandchild.clientWidth) {
                                hasOverflow = true
                                break
                            }
                        }
                        // Ugh, just give me labelled break
                        if (hasOverflow) {
                            break
                        }
                    }
                    if (hasOverflow) {
                        parent.classList.add("column1")
                    } else {
                        parent.classList.remove("column1")
                    }
                })
            }
            reflowGrids()
            window.addEventListener("resize", reflowGrids)
        })
    </script>

</head>

<body>
    <div class="underline-wrapper">
        <nav class="main-nav">
            <a href="/" class="site-title">welltypedwit.ch</a>
        </nav>
    </div>

    <article class="post">
        <h1 class="post-header">How to Write Haskell in 2025</h1>
        <span class="date">25 August 2024</span>
        <p></p>
<p>Haskell is, in my opinion, the best practical programming language
currently out there. Haskell is also quite an old language that has
collected a bit of historical baggage. This means that as a beginner,
it’s not always obvious how to set things up and write code in the most
optimal way.</p>
<p><strong>TODO</strong></p>
<p>Disclaimer: These choices reflect my opinions and not every Haskeller
might agree with then. However, I think they should be mostly
uncontroversial and I am going to provide a justification for each one
so you can make your own decisions.</p>
<h2 id="enable--wall">Enable <code>-Wall</code></h2>
<p>We’re starting off strong with probably the most important point on
this list. When GHC was originally developed in the 90s, exhaustiveness
checking for pattern matching wasn’t</p>
<h2 id="enable-ghc2023">Enable <code>GHC2023</code></h2>
<p><strong>TODO: also LANGUAGE extensions</strong></p>
<h2 id="dont-use-string">Don’t Use <code>String</code></h2>
<p>For historical reasons, Haskell’s <code>String</code> type is just a
type alias for <code>[Char]</code>. This means that what one might
expect to be a simple character array is actually a singly linked list
of <em>boxed</em> unicode scalars! When represented as a
<code>String</code>, “Hello, world!”, which should usually be a simple
13 byte array, actually consists of <em>26</em> heap objects, 13 for the
list nodes and 13 for the characters, <em>each</em> containing at least
16 and 4 bytes respectively!</p>
<p><strong>TODO: OverloadedStrings</strong></p>
<h2 id="avoid-partial-functions">Avoid Partial Functions</h2>
<p><strong>TODO: Both common stdlib functions and writing your own
functions that panic</strong></p>
<h2 id="avoid-linked-lists">Avoid Linked Lists</h2>
<h2 id="avoid-point-free-style">Avoid Point Free Style</h2>
<h2 id="pick-an-alternative-prelude">Pick an Alternative Prelude</h2>
<h2 id="use-overloadedrecorddot">Use `OverloadedRecordDot``</h2>
<h2 id="dont-be-scared-of-do-notation">Don’t Be Scared of Do
Notation</h2>
<h2 id="just-use-async">Just Use <code>async</code></h2>
<h2 id="have-fun">Have Fun :)</h2>
        <script src="/js/main.js"></script>
    </article>
</body>

</html>